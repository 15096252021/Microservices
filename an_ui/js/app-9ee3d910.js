import{e,a3 as t,v as s,a4 as l,j as a,u as i,c as n,b as o,n as d,K as r,w as c,l as u,S as p,p as m,a as h,o as f,d as _,C as g,X as x,_ as b,a5 as k,g as v,F as y,m as w,P as C,a6 as I,a7 as T,D as P,B as z,r as O,V as S,a2 as E,L}from"./app-870de38e.js";import{s as W}from"./app-ebf20b0b.js";const j=e=>(m("data-v-df7ef387"),e=e(),h(),e),F={class:"header"},H=j((()=>o("div",{class:"logo"},"后台管理系统",-1))),$={class:"header-right"},D={class:"header-user-con"},M=j((()=>o("i",{class:"el-icon-lx-notice"},null,-1))),N={key:0,class:"btn-bell-badge"},R={class:"el-dropdown-link"},q=b(e({__name:"Header",setup(e){const m=t(),h=s("reload"),b=()=>{m.resetMenuList(),x({message:"刷新成功",type:"success"}),h()},k=localStorage.getItem("zdp_admin_template_username"),v=l(),y=()=>{v.handleCollapse()};a((()=>{document.body.clientWidth<1500&&y()}));const w=i(),C=e=>{"logout"==e?(localStorage.removeItem("zdp_admin_template_username"),w.push("/Login")):"user"==e&&w.push("/user")};return(e,t)=>{const s=p("Expand"),l=p("el-icon"),a=p("Fold"),i=p("Sort"),m=p("el-tooltip"),h=p("el-avatar"),x=p("arrow-down"),I=p("el-dropdown-item"),T=p("el-dropdown-menu"),P=p("el-dropdown");return f(),n("div",F,[o("div",{class:"collapse-btn",onClick:y},[d(v).collapse?(f(),r(l,{key:0},{default:c((()=>[u(s)])),_:1})):(f(),r(l,{key:1},{default:c((()=>[u(a)])),_:1}))]),H,o("div",$,[o("div",D,[u(m,{content:"更新缓存"},{default:c((()=>[u(l,{size:30,onClick:b,style:{left:"5px",cursor:"pointer"}},{default:c((()=>[u(i)])),_:1})])),_:1}),o("div",{class:"btn-bell",onClick:t[0]||(t[0]=e=>d(w).push("/tabs"))},[u(m,{content:"有2条未读消息",effect:"dark",placement:"bottom"},{default:c((()=>[M])),_:1},8,["content"]),(f(),n("span",N))]),u(h,{size:40,src:d("/png/png-df72a15c.png"),class:"user-avatar"},null,8,["src"]),u(P,{class:"user-name",trigger:"click",onCommand:C},{dropdown:c((()=>[u(T,null,{default:c((()=>[u(I,{command:"user"},{default:c((()=>[_("个人中心")])),_:1}),u(I,{command:"logout",divided:""},{default:c((()=>[_("退出登录")])),_:1})])),_:1})])),default:c((()=>[o("span",R,[_(g(d(k))+" ",1),u(l,{class:"el-icon--right"},{default:c((()=>[u(x)])),_:1})])])),_:1})])])])}}}),[["__scopeId","data-v-df7ef387"]]),B={class:"sidebar"},K=b(e({__name:"sidebar",setup(e){const t=[{icon:"Odometer",index:"/dashboard",title:"系统首页",permission:"1"},{icon:"Calendar",index:"1",title:"表格相关",permission:"2",children:[{index:"/table",title:"常用表格",permission:"2"},{index:"/import",title:"导入Excel",permission:"2"},{index:"/export",title:"导出Excel",permission:"2"}]},{icon:"DocumentCopy",index:"/tabs",title:"tab选项卡",permission:"3"},{icon:"Edit",index:"3",title:"表单相关",permission:"4",children:[{index:"/form",title:"基本表单",permission:"5"},{index:"/upload",title:"文件上传",permission:"6"},{index:"4",title:"三级菜单",permission:"7",children:[{index:"/editor",title:"富文本编辑器",permission:"8"},{index:"/markdown",title:"markdown编辑器",permission:"9",children:[{index:"150",title:"级菜单",permission:"7",children:[{index:"/editor",title:"富文本编辑器",permission:"8"},{index:"/markdown",title:"markdown编辑器",permission:"9"}]}]}]}]},{icon:"Setting",index:"/icon",title:"自定义图标",permission:"10"},{icon:"PieChart",index:"/charts",title:"schart图表",permission:"11"},{icon:"Warning",index:"/permissionion",title:"权限管理",permission:"13"}],s=k(),a=v((()=>s.path)),i=l();return(e,s)=>{const l=p("el-icon"),m=p("el-menu-item"),h=p("el-sub-menu"),x=p("el-menu");return f(),n("div",B,[u(x,{collapse:d(i).collapse,"default-active":d(a),"active-text-color":"#20a0ff","background-color":"#324157",class:"sidebar-el-menu",router:"","text-color":"#bfcbd9","unique-opened":""},{default:c((()=>[(f(),n(y,null,w(t,(e=>(f(),n(y,null,[e.children?(f(),r(h,{key:e.index,index:e.index},{title:c((()=>[u(l,null,{default:c((()=>[(f(),r(C(e.icon)))])),_:2},1024),o("span",null,g(e.title),1)])),default:c((()=>[(f(!0),n(y,null,w(e.children,(e=>(f(),n(y,null,[e.children?(f(),r(h,{key:e.index,index:e.index},{title:c((()=>[_(g(e.title),1)])),default:c((()=>[(f(!0),n(y,null,w(e.children,((e,t)=>(f(),r(m,{key:t,index:e.index},{default:c((()=>[_(g(e.title),1)])),_:2},1032,["index"])))),128))])),_:2},1032,["index"])):(f(),r(m,{key:1,index:e.index},{default:c((()=>[_(g(e.title),1)])),_:2},1032,["index"]))],64)))),256))])),_:2},1032,["index"])):(f(),r(m,{key:e.index,index:e.index},{title:c((()=>[_(g(e.title),1)])),default:c((()=>[u(l,null,{default:c((()=>[(f(),r(C(e.icon)))])),_:2},1024)])),_:2},1032,["index"]))],64)))),64))])),_:1},8,["collapse","default-active"])])}}}),[["__scopeId","data-v-dea797dd"]]),V=I("tags",{state:()=>({list:[]}),getters:{show:e=>{const t=i();return 0===e.list.length&&(e.list.push({name:"homepage",title:"首页",path:"/system/homepage"}),t.push({name:"homepage"})),e.list.length>0},nameList:e=>e.list.map((e=>e.name))},actions:{delTagsItem(e){this.list.splice(e,1)},setTagsItem(e){this.list.push(e)},clearTags(){this.list=[]},closeTagsOther(e){this.list=e},closeCurrentTag(e){for(let t=0,s=this.list.length;t<s;t++){if(this.list[t].path===e.$route.fullPath){t<s-1?e.$router.push(this.list[t+1].path):t>0&&e.$router.push(this.list[t-1].path),this.list.splice(t,1);break}}}}}),X={key:0,class:"tags"},A={class:"tags-ul"},G={class:"tags-selcet"};const J=b(e({name:"Main_Frame",setup(){const e=O(!0);W(e);const t=l();return{loading:e,shrinkORNot:v((()=>t.collapse?{width:"60px"}:{width:"250px"})),contentWidth:v((()=>t.collapse?{width:"calc(100% - 60px)"}:{width:"calc(100% - 250px)"}))}},components:{Header:q,sidebar:K,tags:b(e({__name:"tags",setup(e){const t=k(),s=i(),l=V();T((e=>{var t;t=e,l.list.some((e=>e.path===t.fullPath))||(l.list.length>=8&&l.delTagsItem(0),l.setTagsItem({name:t.name,title:t.meta.menu_name||"页面",path:t.fullPath}))}));const a=e=>{"other"===e?(()=>{const e=l.list.filter((e=>e.path===t.fullPath));l.closeTagsOther(e)})():l.clearTags()};return(e,i)=>{const r=p("router-link"),m=p("Close"),h=p("el-icon"),x=p("arrow-down"),b=p("el-button"),k=p("el-dropdown-item"),v=p("el-dropdown-menu"),C=p("el-dropdown");return d(l).show?(f(),n("div",X,[o("ul",A,[(f(!0),n(y,null,w(d(l).list,((e,a)=>{return f(),n("li",{class:z(["tags-ul-li",{active:(i=e.path,i===t.fullPath)}]),key:a},[u(r,{to:e.path,class:"tags-ul-li-title"},{default:c((()=>[_(g(e.title),1)])),_:2},1032,["to"]),u(h,{onClick:e=>(e=>{const a=l.list[e];l.delTagsItem(e);const i=l.list[e+1]?l.list[e+1]:l.list[e-1];i&&a.path===t.fullPath&&s.push(i.path)})(a)},{default:c((()=>[u(m)])),_:2},1032,["onClick"])],2);var i})),128))]),o("div",G,[u(C,{onCommand:a},{dropdown:c((()=>[u(v,{size:"small"},{default:c((()=>[u(k,{command:"other"},{default:c((()=>[_("关闭其他")])),_:1}),u(k,{command:"all"},{default:c((()=>[_("关闭所有")])),_:1})])),_:1})])),default:c((()=>[u(b,{size:"small",type:"primary"},{default:c((()=>[_(" 标签选项 "),u(h,{class:"el-icon--right"},{default:c((()=>[u(x)])),_:1})])),_:1})])),_:1})])])):P("",!0)}}}),[["__scopeId","data-v-b24df9a5"]])}}),[["render",function(e,t,s,l,a,i){const n=p("Header"),o=p("el-header"),d=p("menuTree"),m=p("el-aside"),h=p("tags"),_=p("router-view"),g=p("el-main"),x=p("el-container"),b=E("loading");return S((f(),r(x,{class:"home","element-loading-text":"加载中"},{default:c((()=>[u(o,{height:"60px"},{default:c((()=>[u(n)])),_:1}),u(x,{class:"home-body"},{default:c((()=>[u(m,{class:"home-body-aside",style:L(e.shrinkORNot)},{default:c((()=>[u(d)])),_:1},8,["style"]),u(g,{class:"home-body-content",style:L(e.contentWidth)},{default:c((()=>[u(o,{class:"home-body-content-crumbs"},{default:c((()=>[u(h)])),_:1}),u(g,{class:"home-body-content-main"},{default:c((()=>[u(_)])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})),[[b,e.loading]])}],["__scopeId","data-v-3156adbc"]]);export{J as default};
